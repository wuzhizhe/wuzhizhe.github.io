<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="木兄,undefined"><meta name="copyright" content="木兄"><title>木兄的个人博客 | 木兄博客</title><link rel="shortcut icon" href="/my-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.5.6"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.5.6"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">木兄</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">27</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">55</span></a></div></div></div><nav class="no-bg" id="nav" style="background-image: url(true)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">木兄博客</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="site-info"><div id="site-title">木兄博客</div><div id="site-sub-title">木兄的个人博客</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2018/12/24/如何解读谯周/">如何解读谯周</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-24</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/历史/">历史</a></span><div class="content"><h2 id="对历史人物的解读"><a href="#对历史人物的解读" class="headerlink" title="对历史人物的解读"></a>对历史人物的解读</h2><p>  历史上有很多人，他们都非常有名气，当然名也分好名声与坏名声，有的名扬千古，有的遗臭万年，有的褒贬不一，但是这些人都是历史上重要的人物，是学习研究中华历史不可避免的人物。对这些人物的读解，不同的人有不同的看法。确实，一个人本身是多元的，对人的解读也要从不同的方向、角度进行。</p>
<h2 id="谯周"><a href="#谯周" class="headerlink" title="谯周"></a>谯周</h2><p>  三国时期蜀国的谯周，之前我对他的了解都是从别人的嘴里说出来的，没看过相关的典籍，对谯周的印象就是投降派、卖国贼。因为他力主可能还有一战之力蜀国向偷渡阴平成功的邓艾投降，在这个观点上的人对他进行激烈的批判。认为他对蜀汉亡国要付主要的责任。</p>
<p>  今天看到了《三国志》里面对谯周的记载，个人感觉作者陈寿对谯周还是比较推崇的，作者本人也曾与他交流，受过教诲。在书中看到了谯周的一些话语，从书中记载来看他并不是阿谀投降的小人。</p>
<p>  三国志当中有这么一段记载：</p>
<blockquote>
<p>后主立太子，以周为仆，转家令。时后主颇出游观，增广声乐。周上疏谏曰：“昔王莽之败，豪杰并起，跨州据郡，欲弄神器，于是贤才智士思望所归，未必以其势之广狭，惟其德之薄厚也。是故于时更始、公孙述及诸有大众者多已广大，然莫不快情恣欲，怠于为善，游猎饮食，不恤民物。世祖初入河北，冯异等劝之曰：‘当行人所不能为。’遂务理寃狱，节俭饮食，动遵法度，故北州歌叹，声布四远。于是邓禹自南阳追之，吴汉、寇恂未识世祖，遥闻德行，遂以权计举渔阳、上谷突骑迎于广阿。其馀望风慕德者邳肜、耿纯、刘植之徒，至于舆病赍棺，襁负而至者，不可胜数，故能以弱为强，屠王郎，吞铜马，折赤眉而成帝业也。及在洛阳，甞欲小出，车驾已御，铫期谏曰：‘天下未宁，臣诚不愿陛下细行数出。’即时还车。及征隗嚣，颍川盗起，世祖还洛阳，但遣寇恂往，恂曰：‘颍川以陛下远征，故奸猾起叛，未知陛下还，恐不时降；陛下自临，颍川贼必即降。’遂至颍川，竟如恂言。故非急务，欲小出不敢，至于急务，欲自安不为，故帝者之欲善也如此！故传曰‘百姓不徒附’，诚以德先之也。今汉遭厄运，天下三分，雄哲之士思望之时也。陛下天姿至孝，丧逾三年，言及陨涕，虽曾闵不过也。敬贤任才，使之尽力，有逾成康。故国内和一，大小勠力，臣所不能陈。然臣不胜大愿，愿复广人所不能者。夫挽大重者，其用力苦不众，拔大艰者，其善术苦不广，且承事宗庙者，非徒求福佑，所以率民尊上也。至于四时之祀，或有不临，池苑之观，或有仍出，臣之愚滞，私不自安。夫忧责在身者，不暇尽乐，先帝之志，堂构未成，诚非尽乐之时。愿省减乐官、后宫所增造，但奉修先帝所施，下为子孙节俭之教。”徙为中散大夫，犹侍太子。</p>
</blockquote>
<p>  谯周因为谏阻刘禅喜游玩、增声乐，被贬官，可见绝对不是那种阿谀之人，为了刘禅统治也好，为了百姓也好，都是有实际行动的，所以这种人不可能是完全因为个人私利劝刘禅投降蜀国的。当然人做事都有目的，他是益州本地氏族，可能不希望在这里再有战争。</p>
<p>  其实蜀国是否投降都决定于一个人身上，那就是刘禅，刘禅如果不投降，谁说什么都没用，所以蜀国投降了，不应该把责任推到其他人身上。中国人有个特点，那就是一把手掌握一切，你既然有了做一切决策的权力，那么做了决策后的所有不良后果就应该都由一把手来承担责任，这就是有多大的权力就有多大的责任。</p>
<h2 id="引申"><a href="#引申" class="headerlink" title="引申"></a>引申</h2><p>  因为这个事情我又想起了秦桧夫妇一直背负着杀害岳飞的骂名，其实秦桧是替宋高宗背负了骂名啊，因为最终下命令杀岳飞的是皇帝，所以这个责任必须由皇帝来负责。中国古代因为要维护皇帝的名声，要维护皇帝的脸面经常把一些事情的责任推到什么贪官（严嵩）、妃子（妲己、杨贵妃）等等身上，其实目的就是一个，去掉皇帝的责任，推到下面的人身上，维护皇帝，其实这些事情最该负责的就是皇帝，没有其他任何第二责任人。</p>
<p>  但是这些恶劣事情的发生是不可避免的，因为皇帝只是皇帝，是一个位置，皇帝不是圣人，他会有缺点，会有各种欲望。在他这个位置的人会有刻意的隐藏自己的这些爱好、欲望、弱点，但是总是会被抓住然后被利用（相互利用），最终出现各种恶果。</p>
<p>  在这方面也有一些经典的对话记录，比如宇文泰与苏绰对答，用贪官、弃贪官、杀贪官，可谓对人性、对世态分析的极其透彻了。但是却不用在好的方面，只是为了满足自己的个人贪欲。</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/09/06/生活中要掌握好的度/">生活中要掌握好的度</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-06</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/度/">度</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/自律/">自律</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/生活/">生活</a></span><div class="content"><h2 id="生活、工作人生的方方面面都要有一个度"><a href="#生活、工作人生的方方面面都要有一个度" class="headerlink" title="生活、工作人生的方方面面都要有一个度"></a>生活、工作人生的方方面面都要有一个度</h2><p>  度这个字开起来很简单，但是多数人真的很难处理好，做人、做事都要有一个度，做的不够达不到要求；做的过度也不好，可能反而有反效果。掌握好度真的是一个很难的事情，需要一个人有极其强大的自制力、控制力。</p>
<h2 id="自制自律"><a href="#自制自律" class="headerlink" title="自制自律"></a>自制自律</h2><p>  有些人天生(后天培养)有强大的自制力，这种人能够很好的控制自己的生活、工作、休闲、娱乐等，有的人则做不到，总是做的过少或者过多，我就是后面这一种，感觉好多事情都做不好，真的是自制力奇差。</p>
<h2 id="如何解决？"><a href="#如何解决？" class="headerlink" title="如何解决？"></a>如何解决？</h2><p>  不知道</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2018/07/06/我的RSS订阅源/">我的RSS订阅源</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-07-06</time><div class="content"><h2 id="开篇唠叨"><a href="#开篇唠叨" class="headerlink" title="开篇唠叨"></a>开篇唠叨</h2><p>  好久不写博客了，一个是人自己的惰性，另一个确实也可写的东西比较少，坚持下来真的是很不容易啊。</p>
<p>  之前写过一篇“关于订阅内容的反思”，记录了自己关于订阅源的管理的想法，现在想记录下自己的订阅源，以后有更新有删除都在这里进行记录，其实这篇文章相比之前那篇文章的订阅源已经发生过变化了。</p>
<h2 id="应该订阅什么样的RSS源"><a href="#应该订阅什么样的RSS源" class="headerlink" title="应该订阅什么样的RSS源"></a>应该订阅什么样的RSS源</h2><p>  个人认为订阅源应分为两种：一种是有价值的订阅源，能让自己从中有比较好的收获；另一种不一定能让你有多大的收获，但是是你感兴趣的东西（感兴趣的不一定是有价值的）。</p>
<h2 id="具体的订阅源"><a href="#具体的订阅源" class="headerlink" title="具体的订阅源"></a>具体的订阅源</h2><h3 id="新闻媒体类"><a href="#新闻媒体类" class="headerlink" title="新闻媒体类"></a>新闻媒体类</h3><ul>
<li>纽约时报中文网</li>
<li>金融时报中文网</li>
<li><p>虎嗅网</p>
<p>这个是我目前订阅的三个主要的新闻媒体网站，因为我几乎不看新闻客户端，自己感兴趣的内容会去专门的论坛或者门户网站对应的板块进行信息获取，主要的新闻媒体信息获取就来源于以上几个网站（剩下的就是twitter了）。</p>
</li>
</ul>
<h3 id="软件-工具信息分享类"><a href="#软件-工具信息分享类" class="headerlink" title="软件/工具信息分享类"></a>软件/工具信息分享类</h3><ul>
<li>免费资源网络社群（台湾站长制作）</li>
<li>反斗软件</li>
<li>大眼旭仔</li>
<li>异次元世界</li>
<li>电脑玩物（台湾站长制作）</li>
<li>小众软件</li>
</ul>
<h3 id="生活历史类"><a href="#生活历史类" class="headerlink" title="生活历史类"></a>生活历史类</h3><ul>
<li>凤凰号-我们爱历史（凤凰网板块）</li>
<li>中国特色。NET（个人网站）</li>
<li>时拾史事</li>
<li>历史·时事·军事地图（新浪个人博客）</li>
</ul>
<h3 id="IT编程开发类"><a href="#IT编程开发类" class="headerlink" title="IT编程开发类"></a>IT编程开发类</h3><ul>
<li>张鑫旭博客</li>
<li>酷壳</li>
<li>w3cplus博客（应该也是个人站）</li>
<li>infoQ HTML5板块</li>
<li>jerryQu博客</li>
<li>月光博客</li>
</ul>
<h3 id="其他不知如何分类的"><a href="#其他不知如何分类的" class="headerlink" title="其他不知如何分类的"></a>其他不知如何分类的</h3><ul>
<li>唐巧博客</li>
<li>奔跑的奶酪</li>
<li>魏武挥扯氮集</li>
<li>编程随想</li>
<li>Mactalk</li>
<li>V2ex部分模块</li>
</ul>
<p>以上就是目前订阅的RSS源，在整理期间发现有些已经好久不更新也不看的源，这种源已经没有存在的必要，直接删除。</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/11/15/离线下载工具offcloud介绍/">离线下载工具offcloud介绍</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-11-15</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/离线下载/">离线下载</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/cloud/">cloud</a></span><div class="content"><h3 id="引子——离线下载大文件"><a href="#引子——离线下载大文件" class="headerlink" title="引子——离线下载大文件"></a>引子——离线下载大文件</h3><p>  之前用的BT离线下载工具seedr因为空间的限制导致无法下载大文件，所以需要新工具，用百度网盘离线竟然无法成功，不知道是技术原因还是版权原因还是钱的原因，总之是不好使了（2017-11-20更新发现，百度网盘应该只是对已经存在它的服务器上的文件可以秒传，不支持真正的离线下载，是个伪离线。。。）。然后用迅雷下载，发现迅雷的问题真的是很严重，下载效率非常差，无奈，只能继续寻找第三方的服务。</p>
<p>  关于上面提到的seedr工具的介绍再这里：<a href="https://wuzhizhe.github.io/2017/05/25/%E5%9B%BD%E5%A4%96%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD%E7%BD%91%E7%AB%99seedr/" target="_blank" rel="noopener">国外离线下载网站seedr</a></p>
<p>  经过查找找到了几项，最终用了offcloud。我目前是免费账户，下了一个70多G的种子，从结果看离线能力很好，但是从它的服务器上取回本机的时候速度一般。</p>
<h3 id="offcloud介绍"><a href="#offcloud介绍" class="headerlink" title="offcloud介绍"></a>offcloud介绍</h3><h4 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h4><p>  <a href="https://offcloud.com/" target="_blank" rel="noopener">offcloud</a>可以下载多数常用的协议文件：HTTP FTP MAGNET TORRENT等，但是不支持ed2k。</p>
<p>  除了有下载功能外，offcloud还附赠了一些很有用的功能</p>
<p>  A.可以将HTML与PDF进行转换，方便用户已自己喜欢的方式阅读。</p>
<p>  B.可以将离线的文件上传到你的FTP空间、WebDAV、Google Drive、Dropbox、OneDrive等，这个真的是一个很好的功能，有两个用处，第一，如果个人要存储文件，不用自己先下载在上传；第二，国内的用户可以先将文件传到one drive这种不被墙的服务再往回取，亲测会快扽多。</p>
<h4 id="offcloud线路"><a href="#offcloud线路" class="headerlink" title="offcloud线路"></a>offcloud线路</h4><p>  offcloud有几个路线，分别是法国（主路线）、加拿大、德国、荷兰、新加坡、芝加哥，我离线文件是用的是主线路，但取回文件时用的是加拿大线路，从它的服务器取回来的时候速度不是很稳定——我是中国电信的网络，现在不清楚是电信限制了还是offcloud做的限制，但是下载是无法跑满速的，不如seedr的免费路线。</p>
<h4 id="免费账户"><a href="#免费账户" class="headerlink" title="免费账户"></a>免费账户</h4><p>  offcloud的免费账户有如下限制：<br>  1、每个月只能离线三次，超了就只能下个月了。<br>  2、免费账户有流量限制，10G，<strong>这个是指离线到offcloud服务器的流量，从offcloud取回本机是没有流量限制的。再就是如果你的一个文件的流量超过了10G，offcloud不会因为超过10G就中断下载，会下载完成，所以免费用户也可以下载一次大文件，但是因为流量用完了就不能再继续下载了，即使次数没有超。</strong></p>
<p>  免费账户以及其他常见问题：</p>
<p>  <img src="/images/offcloud/offcloud2.png" alt="002"></p>
<h4 id="收费规则以及功能"><a href="#收费规则以及功能" class="headerlink" title="收费规则以及功能"></a>收费规则以及功能</h4><p>  offcloud有两种收费模式，一种是月付：9.99美元一个月，第二种是年付：59.99美元一年，折合5美元一个月，比月付是半价。</p>
<p>  见下图：</p>
<p>  <img src="/images/offcloud/offcloud1.png" alt="001"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/10/31/windows下强力删除文件工具推荐/">windows下强力删除文件工具推荐</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-10-31</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/windows/">windows</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/卸载/">卸载</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/强制/">强制</a></span><div class="content"><h2 id="文件无法删除的烦恼"><a href="#文件无法删除的烦恼" class="headerlink" title="文件无法删除的烦恼"></a>文件无法删除的烦恼</h2><p>  好久没有遇到这种情况了，今天下载了一个便携软件，免安装，下载下来后试用，发现不好用，于是退出软件，然后删除软件，这个时候恶心的事情发生了，进程占用，无法删除软件，于是只能找工具进行强力删除。</p>
<p>  多吐槽一句，软件官方发布的这种便携软件，不是第三方的人修改的，竟然在退出软件后还存在进程不退出继续占用的问题，要么是别有用心的在后台做什么事情，要么就说明软件开发的时候这些细节处理不好。总之一句话：坑货软件。</p>
<h2 id="如何利用工具强制删除被锁定的文件"><a href="#如何利用工具强制删除被锁定的文件" class="headerlink" title="如何利用工具强制删除被锁定的文件"></a>如何利用工具强制删除被锁定的文件</h2><h3 id="杀死占用进程"><a href="#杀死占用进程" class="headerlink" title="杀死占用进程"></a>杀死占用进程</h3><p>  找到占用文件的进程，杀死进程，然后删除文件。这个是第一想法，因为删除的时候说了，因为某些进程正在使用它所以无法删除，所以第一想到的方法就是找到占用的进程，然后杀死进程，杀死进程后就可以删除了。</p>
<p>  有这样的工具吗？</p>
<p>  答案是：有。</p>
<p>  什么名字呢？</p>
<p>  lockhunter。</p>
<p>  官网<a href="http://lockhunter.com/" target="_blank" rel="noopener">lockhunter.com</a></p>
<p>  直接去官网下载即可，请不要到国内的那些软件园/下载网站去下载，直接去官网下载。</p>
<p>  安装完成后对着要删除的文件/目录右键，如下图：</p>
<p>  <img src="/images/force-delete-file/lockhunter1.png" alt="001"></p>
<p>  右键后点击对应的菜单，可以看到当前正在占用文件/目录的进程文件：</p>
<p>  <img src="/images/force-delete-file/lockhunter2.png" alt="003"></p>
<p>  对进程文件右键，有对应的操作菜单显示，有三个选项，第一个是unlock占用的进程，我试过这个基本没用，然后就是第二个，杀死占用的进程，这个一般可用，如果不能用也可以试试第三个直接删除占用的进程文件。</p>
<p>  <img src="/images/force-delete-file/lockhunter3.png" alt="002"></p>
<p>  一般无法删除的文件用这个工具就行了，但是我发现，这个工具也有不可用的时候，于是又找到了另一款更加强力的工具。</p>
<h3 id="暴力删除所有要删除的文件"><a href="#暴力删除所有要删除的文件" class="headerlink" title="暴力删除所有要删除的文件"></a>暴力删除所有要删除的文件</h3><p>  这个工具是FileASSASSIN，打开工具后，找到你想删除的文件：直接暴力删除。</p>
<p>  个人感觉非常好用。</p>
<p>  官网地址：<a href="https://www.malwarebytes.com/fileassassin/" target="_blank" rel="noopener">FILEASSASSIN</a></p>
<p>  软件介绍就一句话：Eradicates any type of locked files————彻底删除任何类型的锁定文件。</p>
<p>  软件界面如下图：</p>
<p>  <img src="/images/force-delete-file/lockhunter4.png" alt="002"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/10/31/如何让博客支持HTTPS协议/">如何让博客支持HTTPS协议(2017-10-31更新cerbot工具)</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-10-31</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/https/">https</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/encrypt/">encrypt</a></span><div class="content"><h2 id="申请https证书"><a href="#申请https证书" class="headerlink" title="申请https证书"></a>申请https证书</h2><p>今天突然想搞一下https，因为现在确实是https的天下了，国内很多网站都是https的了，感觉新建个博客还是http的好像有点low，所以就想搞个https支持。</p>
<p>说干就干，其实这个事情还真不是特别麻烦，因为https所以要有ssl的证书，所以首先申请一个ssl证书。</p>
<p>好多可以申请证书网站服务，根据推荐选择了<a href="https://letsencrypt.org/" target="_blank" rel="noopener">Let’s Encrypt</a>，原因很简单：免费、快捷、支持多个域名。</p>
<p>证书的申请自己也没搞过，直接找的教程，用了这里的申请教程<a href="https://imququ.com/post/letsencrypt-certificate.html" target="_blank" rel="noopener">SSL证书申请</a>。<br>我是按照教程里面的申请下来的，中间生成CSR文件时有点差错，openssl.cnf文件的位置与文章里面的不太一样，用find / -name命令找到的我的机器上的该文件的位置，然后其他的就是一样的了。</p>
<p>申请完证书还需要配置，因为博客用的是nginx，所以接下来需要做的就是在nginx上配置ssl，配置证书以及端口、域名等。<br>直接贴一下nginx的相关配置代码：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">listen <span class="number">443</span>;</span><br><span class="line">server_name muxblog.tk;</span><br><span class="line">ssl on;#开启ssl</span><br><span class="line">ssl_certificate /home/ssl/chained.pem;#公钥</span><br><span class="line">ssl_certificate_key /home/ssl/domain.key;#密钥</span><br><span class="line">ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;#协议</span><br><span class="line">ssl_prefer_server_ciphers on;#优先服务端加密</span><br><span class="line">ssl_ciphers AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL;#加密套件/方式</span><br><span class="line">ssl_session_timeout 5m;#超时</span><br></pre></td></tr></table></figure>
<p>nginx配置完成之后重启nginx，用https协议就可以访问自己的博客了。</p>
<p>目前发现的问题</p>
<p>1). 用https访问博客，博客内需要的http资源在chrome浏览器会被认为不安全的，浏览器认为https下面的请求都应该是https的协议。<br>解决方法:查资料获取到<a href="http://www.cnblogs.com/hustskyking/p/upgrade-insecure-requests.html" target="_blank" rel="noopener">小胡子李靖的一篇文章</a>，用文章中的方法来解决问题，发现浏览器不提示问题了，css文件的访问没有问题，但是博客内的外链http图片没法访问了，目前未找到好的解决办法，先在此记录。</p>
<p>问题更新，因为实在不想在博客上存储图片等文件，小磁盘，顶不住，所以就找了下支持HTTPS的图床，发现了一个，名字就是<a href="https://www.tuchuang001.com" target="_blank" rel="noopener">图床001</a>，很简单，注册账户就能使用，支持https外链。<br>现在是暂时的解决办法，不知道这个图床001的可靠性，能撑多久，解析域名最终是浙江金华，国内图床。</p>
<p><strong>已经不使用图床001了，反正想着这些东西也是公开的可看的，直接扔github上了。（2017-06-07）</strong></p>
<h2 id="证书过期遇到的问题"><a href="#证书过期遇到的问题" class="headerlink" title="证书过期遇到的问题"></a>证书过期遇到的问题</h2><p>  今日(2017-06-07)遇到let’s encrypt提醒我证书要过期了，于是想要续期证书，按照之前设置的东西进行处理时发现了问题。</p>
<p>  因为已经有了HTTPS，现在证书还没有过期，只是将要过期，这个时候续期发现无法续期。原因也很简单，现在强制HTTP转到了HTTPS，然后证书生成校验时用web请求就无法通过了。</p>
<p>  然后怎么处理呢？需要先把HTTPS强制跳转关闭，就是说可以用http访问的情况下更新https证书。。。。，这个真的太蛋疼了，这种续期的方式不可以接受，想一下其他的办法来更新解决这个问题。</p>
<p>  等找到了来这里更新。</p>
<h3 id="更新此问题的解决办法-2017-10-31"><a href="#更新此问题的解决办法-2017-10-31" class="headerlink" title="更新此问题的解决办法  (2017-10-31)"></a>更新此问题的解决办法  (2017-10-31)</h3><p>  在github上，有cerbot工具，用github上提供的这个工具，使用脚本一键更新，或者使用定时执行脚本来自动更新。<br>  项目地址：<a href="https://github.com/certbot/certbot" target="_blank" rel="noopener">cerbot</a><br>  具体使用详细阅读readme文件</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/08/31/CSS设置块内元素垂直排列布局/">CSS设置块内元素垂直排列布局</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-08-31</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/css/">css</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/writing-mode/">writing-mode</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/flex/">flex</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/vertical/">vertical</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/垂直布局/">垂直布局</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/纵向换行/">纵向换行</a></span><div class="content"></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/08/07/crontab脚本与环境变量/">crontab脚本与环境变量</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-08-07</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/环境变量/">环境变量</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/crobtab/">crobtab</a></span><div class="content"><p>  最近在执行linux script的时候发现原来自己写的脚本可以正常执行，但是放在crontab的时候就不能正常执行了。</p>
<p>  于是查找原因，想起之前学习shell的时候书中说最好把PATH变量设置一下，防止有些因为PATH的问题导致无法执行，但是脚本又没有问题。</p>
<p>  哈哈哈，最终一番查找，终于确定了是PATH问题，要么用绝对路径解决问题，要么设置PATH变量。</p>
<p>  脚本一开始是没有问题的，因为路径全部都是用的绝对路径，但是脚本不断的维护，自己写的脚本把这些规则都忘了，所以出现了脚本更新后还是不好使的问题，何况如果脚本还有其他人维护的话可能的问题就更多了。</p>
<p>  所以还是按照书上要求的给脚本老老实实的加上了PATH变量设置。</p>
<p>  这个事情还是要记录下，很多东西都是以往的人的经验的总结，所以还是要认真的听取的，不应该自己大意，可能一时能记住并遵守，但是时间长了可能就忘了，就好比好脑子不如烂笔头，这个就是经验真的很重要，要重视，可以帮忙避免很多不必要的麻烦。</p>
<p>  关于crontab的一些其他问题这里还有一篇写的不错的文章，做个链接引用过来了，是51的一篇博客。</p>
<p>  <a href="http://skypegnu1.blog.51cto.com/8991766/1428632" target="_blank" rel="noopener">Linux基础：crontab 与 环境变量，以及应该注意的问题</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/08/04/旋风要倒下了，怀念下以前的下载生活/">旋风要倒下了，怀念下以前的下载生活</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-08-04</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/下载/">下载</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/QQ旋风/">QQ旋风</a></span><div class="content"><p>  看到了QQ旋风要于2017-09-06停止运营，也就是说距离现在也就剩了一个月的时间了，想想当年为了旋风疯狂刷分的时候，有一种恍如隔世的感觉。这么多年过来，很多当年用的很好的软件，都一个个的慢慢离开了。</p>
<p>  网际快车倒下了，迅雷半死不活，现在终于到了旋风了，下载工具在中国始终还是没有找到一条可行的生存之道。</p>
<p>  08年左右刚开始用旋风，那个时候的旋风还是一个小红色的图标，下载工具也都差不多，但是后来发现迅雷、快车确实比旋风好用，就慢慢不用旋风，再后来BT兴起，彻底遗忘了旋风。</p>
<p>  BT的滋润也没有持续多长时间，BT被封锁（在学校）了，真的是很痛苦。有了离线下载，但是迅雷是收费的，要会员费，穷学生，没钱也不愿意为了迅雷掏钱，所以就到处查找可以离线下载的工具，那个时候旋风有了积分制度，积分过了多少可以拥有离线下载空间，如获至宝，那种喜悦程度现在可能已经记不清楚了，立刻开始了疯狂的刷分生活。</p>
<p>  真是怀念那个时候的岁月啊。。。</p>
<p>  现在也已经基本回归了离线/直接加下载工具（IDM之类的）的方式，可用的离线服务很多，有不收费的也有收费的，国内的例如百度网盘，国外的简直太多了。</p>
<p>  现在想想，好的东西因为不能变现或者自己作死而死去的真的是很多，一直以来腾讯其实还是有很多不错的产品的，比如QQ邮箱，QQ影音，这两个工具也真的是腾讯少有的好产品，QQ邮箱应该不太用担心，QQ影音就不好说了，命运不知如何，之前好不容易更新一次，不知道还能撑多久。还有迅雷的极速版确实也是好东西，但是盈利艰难，所以被砍了，好的东西（但无法盈利）在慢慢死去，不好的东西（但盆满钵满）活的滋润无比，社会很现实，情怀要有，但生存更重要。</p>
<p>  以此文埋葬下过去那段疯狂下载的青春岁月。</p>
<p>  2017-08-04 16:16</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/07/27/Cache-Control与Nginx配置/">Cache-Control与Nginx配置</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-07-27</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/cache-control/">cache-control</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/nginx/">nginx</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/proxy-cache/">proxy_cache</a></span><div class="content"><h2 id="缓存相关问题"><a href="#缓存相关问题" class="headerlink" title="缓存相关问题"></a>缓存相关问题</h2><p>  项目上最近要处理前端缓存的问题，因为缓存之前一直没有处理好，所以就是时不时的有点问题，经常因为缓存不更新导致访问的都是旧数据。</p>
<p>  这里其实分为两个地方要处理的缓存，第一个是浏览器本身的缓存，第二个是Http代理服务器（这里用Nginx）的缓存问题。</p>
<h2 id="浏览器配置缓存策略以及导致的问题"><a href="#浏览器配置缓存策略以及导致的问题" class="headerlink" title="浏览器配置缓存策略以及导致的问题"></a>浏览器配置缓存策略以及导致的问题</h2><p>  chrome浏览器默认缓存，如果http服务器没有显式的设置缓存的策略，那么浏览器将会自动缓存get请求的数据，并且下一次请求时如果请求的数据url没有发生变化那么就不会去请求服务器直接用缓存的数据显示到浏览器上。</p>
<p>  这就导致了新数据、图片、CSS等不生效。</p>
<p>  一开始通过前端代码的方式来解决这些问题，请求url后面加上一个时间戳类似的数据串，这样每次请求的数据不一样也就不会有缓存的问题，用此来解决总是不刷新缓存的问题。<br>  但是现在项目的代码是纯静态代码，HTML的，不是模板生成的，也不是PHP这一类的，所以有些文件不能用动态的字符串来修改请求的URL了，最明显的例子就是HTML中的img标签，或者css里的一些background的url等，这些内容纯静态，只能写死，这种文件一旦更新就会有缓存的问题，缓存更新不及时好像程序有问题。</p>
<h2 id="HTTP-SERVER配置浏览器缓存策略"><a href="#HTTP-SERVER配置浏览器缓存策略" class="headerlink" title="HTTP SERVER配置浏览器缓存策略"></a>HTTP SERVER配置浏览器缓存策略</h2><p>  因为浏览器的缓存策略是有Cache-Control控制的，所以需要在HTTP SERVER的Response Header里设置Cache-Control，HTTP SERVER控制了缓存策略，这样就能处理浏览器的缓存了。<br>  Cache-Control不在这里详细展开，简单说下，缓存的设置有这几种策略：no-store(不缓存) no-cache(每次请求时检查缓存是否过期，如果过期，获取新内容) 以及其他的一些设置。</p>
<p>  Nginx的配置: add_header Cache-Control ‘no-cache’;<br>  最好配置在每个location里面，不同的location有不同的缓存策略。<br>  MDN上简单介绍了<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener">Cache-Control</a>，与Cache-Control相关的还有Expires Pragma 返回头的指令。不在此展开。</p>
<p>  Nginx HTTP模块相关配置：</p>
<h2 id="HTTP-SERVER配置本身的缓存策略"><a href="#HTTP-SERVER配置本身的缓存策略" class="headerlink" title="HTTP SERVER配置本身的缓存策略"></a>HTTP SERVER配置本身的缓存策略</h2><p>  HTTP SERVER除了可以控制浏览器的缓存策略之外，还可以配置自己作为缓存代理服务器的缓存策略。</p>
<p>  这种模式下的Nginx是一个简单的反向代理服务器并不是一个纯粹的HTTP SERVER。浏览器请求模式大概如下：</p>
<p>  Browser Client —–&gt;  Nginx Proxy —–&gt; Apache (or other) Http server</p>
<p>  这里的Nginx就是一个反向代理，既然是代理就可以设置缓存，这里的缓存就是proxy_cache。</p>
<p>  设置如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 以下的在http 模块里</span><br><span class="line"></span><br><span class="line">proxy_buffering on;</span><br><span class="line">proxy_cache_path D:<span class="regexp">/comproject/</span>cache levels=<span class="number">1</span>:<span class="number">2</span> keys_zone=my_cache:<span class="number">10</span>m max_size=<span class="number">10</span>g inactive=<span class="number">10</span>s use_temp_path=off;</span><br><span class="line">proxy_cache_methods GET HEAD POST;</span><br><span class="line"></span><br><span class="line"># 这些在具体的location模块里：</span><br><span class="line">proxy_cache my_cache;</span><br><span class="line">proxy_cache_revalidate on;</span><br><span class="line">proxy_cache_min_uses <span class="number">1</span>;</span><br><span class="line">proxy_cache_key $host$uri$is_args$args;</span><br><span class="line">proxy_cache_use_stale error timeout updating invalid_header http_500 http_502 http_503 http_504;</span><br><span class="line">proxy_cache_valid <span class="number">200</span> <span class="number">10</span>s;</span><br><span class="line">expires <span class="number">10</span>s;</span><br><span class="line">add_header Cache-Control <span class="string">'no-cache'</span>;</span><br><span class="line">proxy_pass http:<span class="comment">//fdp;</span></span><br></pre></td></tr></table></figure>
<p>  上面设置缓存的路径，缓存的方法以及其他的配置都在官网，具体的可以看<a href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html" target="_blank" rel="noopener">nginx官网</a></p>
<p>  这里有个关键点就是必须有后面的HTTP SERVER，在Nginx用upstream与proxy_pass来配置，这样就是一个代理服务器了，可以缓存数据了。</p>
</div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2018 By 木兄</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.6"></script><script src="/js/fancybox.js?version=1.5.6"></script><script src="/js/sidebar.js?version=1.5.6"></script><script src="/js/copy.js?version=1.5.6"></script><script src="/js/fireworks.js?version=1.5.6"></script><script src="/js/transition.js?version=1.5.6"></script><script src="/js/scroll.js?version=1.5.6"></script><script src="/js/head.js?version=1.5.6"></script></body></html>